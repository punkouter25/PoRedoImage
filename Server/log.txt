2025-05-14 16:10:40.013 -04:00 [INF] Deleted old log file: log20250413.txt
2025-05-14 16:10:40.049 -04:00 [INF] Deleted old log file: log20250414.txt
2025-05-14 16:10:40.049 -04:00 [INF] Deleted old log file: log20250415.txt
2025-05-14 16:10:40.051 -04:00 [INF] Deleted old log file: log20250415_001.txt
2025-05-14 16:10:40.051 -04:00 [INF] Deleted old log file: log20250416.txt
2025-05-14 16:10:40.052 -04:00 [INF] Deleted old log file: log20250514.txt
2025-05-14 16:10:40.053 -04:00 [INF] Deleted old log file: log20250514_001.txt
2025-05-14 16:10:40.053 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-14 16:36:14.866 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-14 16:36:21.351 -04:00 [WRN] Failed to determine the https port for redirect.
2025-05-14 16:36:24.056 -04:00 [INF] Executing CheckHealth action.
2025-05-14 16:36:24.057 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-05-14 16:36:24.110 -04:00 [INF] Executing CheckAzureServices action.
2025-05-14 16:36:24.110 -04:00 [INF] Azure services health check requested
2025-05-14 16:36:24.151 -04:00 [INF] Checking individual service: Computer Vision
2025-05-14 16:36:24.163 -04:00 [INF] Checking individual service: Azure OpenAI
2025-05-14 16:40:22.859 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: Screenshot (2).png, Description Length: 350 words
2025-05-14 16:40:22.866 -04:00 [INF] Successfully converted image data: 1001921 bytes
2025-05-14 16:40:22.867 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-14 16:40:22.868 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-14 16:40:23.823 -04:00 [INF] Image analysis completed in 954ms, confidence: 0.81628096
2025-05-14 16:40:23.830 -04:00 [INF] Computer Vision analysis completed. Description: 33 characters, Tags: 13
2025-05-14 16:40:23.830 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-14 16:40:23.833 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-14 16:40:23.905 -04:00 [ERR] Error enhancing description with Azure OpenAI after 72ms
Azure.RequestFailedException: Unavailable model: gpt-4o
Status: 400 (Bad Request)
ErrorCode: unavailable_model

Content:
{"error":{"code":"unavailable_model","message":"Unavailable model: gpt-4o","details":"Unavailable model: gpt-4o"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Wed, 14 May 2025 20:40:20 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\ImageGc\Server\Services\OpenAIService.cs:line 103
2025-05-14 16:40:23.953 -04:00 [ERR] Error during description enhancement
Azure.RequestFailedException: Unavailable model: gpt-4o
Status: 400 (Bad Request)
ErrorCode: unavailable_model

Content:
{"error":{"code":"unavailable_model","message":"Unavailable model: gpt-4o","details":"Unavailable model: gpt-4o"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Wed, 14 May 2025 20:40:20 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\ImageGc\Server\Services\OpenAIService.cs:line 103
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\ImageGc\Server\Controllers\ImageAnalysisController.cs:line 133
2025-05-14 16:40:23.956 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-14 16:40:23.957 -04:00 [INF] Generating image with DALL-E based on description
2025-05-14 16:40:29.385 -04:00 [ERR] Error generating image with DALL-E after 5427ms
Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "88bfa8ab-617b-4397-8bd4-3a1f3f2190ca" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Wed, 14 May 2025 20:40:25 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\ImageGc\Server\Services\OpenAIService.cs:line 159
2025-05-14 16:40:29.401 -04:00 [ERR] Error during image generation
Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "88bfa8ab-617b-4397-8bd4-3a1f3f2190ca" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Wed, 14 May 2025 20:40:25 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\ImageGc\Server\Services\OpenAIService.cs:line 159
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\ImageGc\Server\Controllers\ImageAnalysisController.cs:line 155
2025-05-14 16:40:29.415 -04:00 [INF] Image analysis completed in 6553ms for user unknown
2025-05-15 14:49:22.424 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-15 14:51:40.829 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-15 14:53:04.269 -04:00 [INF] Computer Vision Service initialized with endpoint: https://example-vision.cognitiveservices.azure.com/, API version: 2023-10-01
2025-05-15 14:53:04.274 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 14:53:04.372 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: 2016_TEETH.jpg, Description Length: 350 words
2025-05-15 14:53:04.411 -04:00 [INF] Successfully converted image data: 2517901 bytes
2025-05-15 14:53:04.413 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-15 14:53:04.417 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-15 14:53:10.644 -04:00 [ERR] Error analyzing image with Azure Computer Vision after 6227ms
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, BinaryData imageContent, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 69
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-05-15 14:53:10.741 -04:00 [ERR] Error during Computer Vision analysis
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, BinaryData imageContent, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 69
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 110
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-05-15 14:53:14.793 -04:00 [INF] Computer Vision Service initialized with endpoint: https://example-vision.cognitiveservices.azure.com/, API version: 2023-10-01
2025-05-15 14:53:14.794 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 14:53:14.838 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: 2016_TEETH.jpg, Description Length: 350 words
2025-05-15 14:53:14.846 -04:00 [INF] Successfully converted image data: 2517901 bytes
2025-05-15 14:53:14.847 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-15 14:53:14.848 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-15 14:53:20.442 -04:00 [ERR] Error analyzing image with Azure Computer Vision after 5593ms
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, BinaryData imageContent, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 69
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-05-15 14:53:20.506 -04:00 [ERR] Error during Computer Vision analysis
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, BinaryData imageContent, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 69
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 110
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-05-15 14:53:26.634 -04:00 [INF] Computer Vision Service initialized with endpoint: https://example-vision.cognitiveservices.azure.com/, API version: 2023-10-01
2025-05-15 14:53:26.637 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 14:53:26.683 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: 2016_TEETH.jpg, Description Length: 350 words
2025-05-15 14:53:26.694 -04:00 [INF] Successfully converted image data: 2517901 bytes
2025-05-15 14:53:26.708 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-15 14:53:26.709 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-15 14:53:31.595 -04:00 [ERR] Error analyzing image with Azure Computer Vision after 4885ms
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, BinaryData imageContent, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 69
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-05-15 14:53:31.652 -04:00 [ERR] Error during Computer Vision analysis
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443)) (No such host is known. (example-vision.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromBufferAsync(IEnumerable`1 visualFeatures, BinaryData imageContent, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 69
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 110
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (example-vision.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-05-15 14:57:55.177 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-15 14:58:19.126 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 14:58:19.133 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 14:58:19.134 -04:00 [INF] Executing CheckHealth action.
2025-05-15 14:58:19.135 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-05-15 14:58:19.192 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 14:58:19.192 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 14:58:19.194 -04:00 [INF] Executing CheckAzureServices action.
2025-05-15 14:58:19.194 -04:00 [INF] Azure services health check requested
2025-05-15 14:58:19.223 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 14:58:19.225 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 14:58:19.234 -04:00 [INF] Checking individual service: Computer Vision
2025-05-15 14:58:19.249 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 14:58:19.249 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 14:58:19.250 -04:00 [INF] Checking individual service: Azure OpenAI
2025-05-15 14:59:53.751 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-15 15:00:00.886 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 15:00:00.891 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 15:00:00.893 -04:00 [INF] Executing CheckHealth action.
2025-05-15 15:00:00.894 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-05-15 15:00:00.958 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 15:00:00.961 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 15:00:00.964 -04:00 [INF] Executing CheckAzureServices action.
2025-05-15 15:00:00.966 -04:00 [INF] Azure services health check requested
2025-05-15 15:00:00.994 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 15:00:00.996 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 15:00:01.005 -04:00 [INF] Checking individual service: Computer Vision
2025-05-15 15:00:01.020 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 15:00:01.021 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 15:00:01.022 -04:00 [INF] Checking individual service: Azure OpenAI
2025-05-15 15:02:08.159 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-15 15:02:08.161 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-15 15:02:08.488 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: 2023_EYES.png, Description Length: 350 words
2025-05-15 15:02:08.535 -04:00 [INF] Successfully converted image data: 7037303 bytes
2025-05-15 15:02:08.536 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-15 15:02:08.539 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-15 15:02:14.083 -04:00 [INF] Image analysis completed in 5543ms, confidence: 0.64635324
2025-05-15 15:02:14.110 -04:00 [INF] Computer Vision analysis completed. Description: 29 characters, Tags: 0
2025-05-15 15:02:14.121 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-15 15:02:14.125 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-15 15:02:14.319 -04:00 [ERR] Error enhancing description with Azure OpenAI after 192ms. Attempted models: gpt-35-turbo
Azure.RequestFailedException: Unknown model: gpt-35-turbo
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-35-turbo","details":"Unknown model: gpt-35-turbo"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 15 May 2025 19:02:16 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
2025-05-15 15:02:14.471 -04:00 [ERR] Error during description enhancement
Azure.RequestFailedException: Unknown model: gpt-35-turbo
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-35-turbo","details":"Unknown model: gpt-35-turbo"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 15 May 2025 19:02:16 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 133
2025-05-15 15:02:14.532 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-15 15:02:14.540 -04:00 [INF] Generating image with DALL-E based on description
2025-05-15 15:02:20.136 -04:00 [ERR] DALL-E internal server error after 5579ms - The service may be temporarily unavailable
Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "e86889a7-c854-4dbd-978f-4b22e1f340bf" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 15 May 2025 19:02:21 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
2025-05-15 15:02:20.159 -04:00 [ERR] Error during image generation
System.InvalidOperationException: The image generation service is temporarily unavailable. Please try again later.
 ---> Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "e86889a7-c854-4dbd-978f-4b22e1f340bf" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 15 May 2025 19:02:21 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
   --- End of inner exception stack trace ---
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 244
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 155
2025-05-15 15:02:20.168 -04:00 [INF] Image analysis completed in 11676ms for user unknown
2025-05-18 01:16:52.297 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 01:20:29.263 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 01:20:29.431 -04:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5257: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-18 01:20:29.448 -04:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5257: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in C:\Users\punko\Downloads\PoRedoImage\Server\Program.cs:line 130
2025-05-18 01:23:21.683 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 01:23:50.804 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:23:50.807 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:23:50.808 -04:00 [INF] Executing CheckHealth action.
2025-05-18 01:23:50.809 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-05-18 01:23:50.862 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:23:50.863 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:23:50.865 -04:00 [INF] Executing CheckAzureServices action.
2025-05-18 01:23:50.865 -04:00 [INF] Azure services health check requested
2025-05-18 01:23:50.892 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:23:50.894 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:23:50.903 -04:00 [INF] Checking individual service: Computer Vision
2025-05-18 01:23:50.917 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:23:50.918 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:23:50.920 -04:00 [INF] Checking individual service: Azure OpenAI
2025-05-18 01:24:18.369 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:24:18.369 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:24:18.370 -04:00 [INF] Executing CheckHealth action.
2025-05-18 01:24:18.370 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-05-18 01:24:18.436 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:24:18.437 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:24:18.437 -04:00 [INF] Executing CheckAzureServices action.
2025-05-18 01:24:18.438 -04:00 [INF] Azure services health check requested
2025-05-18 01:24:18.454 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:24:18.455 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:24:18.456 -04:00 [INF] Checking individual service: Computer Vision
2025-05-18 01:24:18.477 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:24:18.483 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:24:18.489 -04:00 [INF] Checking individual service: Azure OpenAI
2025-05-18 01:24:38.477 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:24:38.478 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 01:24:38.554 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: IMG_20250426_165620.jpg, Description Length: 350 words
2025-05-18 01:24:38.563 -04:00 [INF] Successfully converted image data: 2388113 bytes
2025-05-18 01:24:38.566 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-18 01:24:38.571 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-18 01:24:41.548 -04:00 [INF] Image analysis completed in 2976ms, confidence: 0.8693042
2025-05-18 01:24:41.580 -04:00 [INF] Computer Vision analysis completed. Description: 48 characters, Tags: 17
2025-05-18 01:24:41.582 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-18 01:24:41.587 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-18 01:24:41.914 -04:00 [ERR] Error enhancing description with Azure OpenAI after 326ms. Attempted models: gpt-35-turbo
Azure.RequestFailedException: Unknown model: gpt-35-turbo
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-35-turbo","details":"Unknown model: gpt-35-turbo"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:24:43 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
2025-05-18 01:24:41.967 -04:00 [ERR] Error during description enhancement
Azure.RequestFailedException: Unknown model: gpt-35-turbo
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-35-turbo","details":"Unknown model: gpt-35-turbo"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:24:43 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 133
2025-05-18 01:24:41.973 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-18 01:24:41.976 -04:00 [INF] Generating image with DALL-E based on description
2025-05-18 01:24:48.867 -04:00 [ERR] DALL-E internal server error after 6888ms - The service may be temporarily unavailable
Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "0c19ef1a-f90d-4670-8346-6538a59415d8" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:24:50 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
2025-05-18 01:24:48.891 -04:00 [ERR] Error during image generation
System.InvalidOperationException: The image generation service is temporarily unavailable. Please try again later.
 ---> Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "0c19ef1a-f90d-4670-8346-6538a59415d8" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:24:50 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
   --- End of inner exception stack trace ---
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 244
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 155
2025-05-18 01:24:48.900 -04:00 [INF] Image analysis completed in 10344ms for user unknown
2025-05-18 01:27:57.861 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 01:30:32.269 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 01:30:32.275 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4, image model: dall-e-3, fallback model: gpt-35
2025-05-18 01:30:32.368 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: PXL_20250511_171020042 (1).MP~2.jpg, Description Length: 350 words
2025-05-18 01:30:32.389 -04:00 [INF] Successfully converted image data: 601788 bytes
2025-05-18 01:30:32.390 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-18 01:30:32.395 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-18 01:30:34.947 -04:00 [INF] Image analysis completed in 2551ms, confidence: 0.858872
2025-05-18 01:30:34.966 -04:00 [INF] Computer Vision analysis completed. Description: 34 characters, Tags: 18
2025-05-18 01:30:34.968 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-18 01:30:34.973 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-18 01:30:35.272 -04:00 [ERR] Error enhancing description with Azure OpenAI after 296ms. Attempted models: gpt-4
Azure.RequestFailedException: Unknown model: gpt-4
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-4","details":"Unknown model: gpt-4"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:30:37 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
2025-05-18 01:30:35.320 -04:00 [ERR] Error during description enhancement
Azure.RequestFailedException: Unknown model: gpt-4
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-4","details":"Unknown model: gpt-4"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:30:37 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 133
2025-05-18 01:30:35.325 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-18 01:30:35.331 -04:00 [INF] Generating image with DALL-E based on description
2025-05-18 01:30:42.603 -04:00 [ERR] DALL-E internal server error after 7269ms - The service may be temporarily unavailable
Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "f8e11bf3-b5d6-40c1-b7dc-4561329d5c74" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:30:44 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
2025-05-18 01:30:42.632 -04:00 [ERR] Error during image generation
System.InvalidOperationException: The image generation service is temporarily unavailable. Please try again later.
 ---> Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "f8e11bf3-b5d6-40c1-b7dc-4561329d5c74" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 05:30:44 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
   --- End of inner exception stack trace ---
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 244
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 155
2025-05-18 01:30:42.647 -04:00 [INF] Image analysis completed in 10273ms for user unknown
2025-05-18 01:37:12.091 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 02:10:45.083 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 04:41:04.371 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 04:42:32.300 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 04:42:32.436 -04:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5257: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-18 04:42:32.450 -04:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5257: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in C:\Users\punko\Downloads\PoRedoImage\Server\Program.cs:line 124
2025-05-18 04:44:25.710 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 04:55:31.359 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 05:02:47.589 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 05:04:10.930 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 05:04:10.936 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 05:04:11.115 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: IMG_20250430_080326.jpg, Description Length: 350 words
2025-05-18 05:04:11.141 -04:00 [INF] Successfully converted image data: 3367098 bytes
2025-05-18 05:04:11.142 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-18 05:04:11.147 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-18 05:04:15.744 -04:00 [INF] Image analysis completed in 4596ms, confidence: 0.77322733
2025-05-18 05:04:15.777 -04:00 [INF] Computer Vision analysis completed. Description: 53 characters, Tags: 9
2025-05-18 05:04:15.791 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-18 05:04:15.799 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-18 05:04:16.117 -04:00 [ERR] Error enhancing description with Azure OpenAI after 316ms. Attempted models: gpt-35-turbo
Azure.RequestFailedException: Unknown model: gpt-35-turbo
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-35-turbo","details":"Unknown model: gpt-35-turbo"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 09:04:17 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
2025-05-18 05:04:16.174 -04:00 [ERR] Error during description enhancement
Azure.RequestFailedException: Unknown model: gpt-35-turbo
Status: 400 (Bad Request)
ErrorCode: unknown_model

Content:
{"error":{"code":"unknown_model","message":"Unknown model: gpt-35-turbo","details":"Unknown model: gpt-35-turbo"}}

Headers:
Transfer-Encoding: chunked
apim-request-id: REDACTED
request-context: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 09:04:17 GMT
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetChatCompletionsAsync(ChatCompletionsOptions chatCompletionsOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 112
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 107
2025-05-18 05:04:16.181 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-18 05:04:16.185 -04:00 [INF] Generating image with DALL-E based on description
2025-05-18 05:04:22.865 -04:00 [ERR] DALL-E internal server error after 6678ms - The service may be temporarily unavailable
Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "7d65c66a-3383-4cf9-8101-af5767aef7f0" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 09:04:24 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
2025-05-18 05:04:22.885 -04:00 [ERR] Error during image generation
System.InvalidOperationException: The image generation service is temporarily unavailable. Please try again later.
 ---> Azure.RequestFailedException: Internal server error
Status: 500 (Internal Server Error)

Content:
{ "statusCode": 500, "message": "Internal server error", "activityId": "7d65c66a-3383-4cf9-8101-af5767aef7f0" }

Headers:
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 18 May 2025 09:04:24 GMT
Content-Length: 111
Content-Type: application/json

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.OpenAI.OpenAIClient.GetImageGenerationsAsync(ImageGenerationOptions imageGenerationOptions, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 189
   --- End of inner exception stack trace ---
   at Server.Services.OpenAIService.GenerateImageAsync(String description) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 244
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 129
2025-05-18 05:04:22.898 -04:00 [INF] Image analysis completed in 11779ms for user unknown
2025-05-18 05:15:20.683 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 05:16:26.436 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 05:16:26.441 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 05:16:26.654 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: IMG_20250430_080326.jpg, Description Length: 350 words
2025-05-18 05:16:26.686 -04:00 [INF] Successfully converted image data: 3367098 bytes
2025-05-18 05:16:26.687 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-18 05:16:26.690 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-18 05:16:30.809 -04:00 [INF] Image analysis completed in 4118ms, confidence: 0.77322733
2025-05-18 05:16:30.850 -04:00 [INF] Computer Vision analysis completed. Description: 53 characters, Tags: 9
2025-05-18 05:16:30.851 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-18 05:16:30.856 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-18 05:16:34.896 -04:00 [INF] Description enhancement completed in 4039ms, tokens used: 517, model: gpt-35-turbo
2025-05-18 05:16:34.918 -04:00 [INF] Description enhancement completed. Length: 1832 characters, Tokens: 517
2025-05-18 05:16:34.919 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-18 05:16:34.923 -04:00 [INF] Generating image with DALL-E based on description
2025-05-18 05:16:59.103 -04:00 [INF] Image generation completed in 24178ms, estimated tokens: 458, model: dall-e-3
2025-05-18 05:16:59.119 -04:00 [INF] Image generation completed. Size: 3163230 bytes, Tokens: 458
2025-05-18 05:16:59.123 -04:00 [INF] Image analysis completed in 32464ms for user unknown
2025-05-18 05:22:17.485 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 05:22:41.520 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-18 05:22:57.836 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 05:22:57.840 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 05:22:57.915 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: PXL_20250511_171020042.MP~2.jpg, Description Length: 350 words
2025-05-18 05:22:57.923 -04:00 [INF] Successfully converted image data: 601788 bytes
2025-05-18 05:22:57.925 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-18 05:22:57.928 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-18 05:23:01.914 -04:00 [INF] Image analysis completed in 3984ms, confidence: 0.85942066
2025-05-18 05:23:01.957 -04:00 [INF] Computer Vision analysis completed. Description: 34 characters, Tags: 18
2025-05-18 05:23:01.959 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-18 05:23:01.964 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-18 05:23:06.091 -04:00 [INF] Description enhancement completed in 4125ms, tokens used: 556, model: gpt-35-turbo
2025-05-18 05:23:06.114 -04:00 [INF] Description enhancement completed. Length: 1921 characters, Tokens: 556
2025-05-18 05:23:06.115 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-18 05:23:06.118 -04:00 [INF] Generating image with DALL-E based on description
2025-05-18 05:23:31.499 -04:00 [INF] Image generation completed in 25379ms, estimated tokens: 480, model: dall-e-3
2025-05-18 05:23:31.513 -04:00 [INF] Image generation completed. Size: 3163231 bytes, Tokens: 480
2025-05-18 05:23:31.515 -04:00 [INF] Image analysis completed in 33595ms for user unknown
2025-05-18 05:25:39.783 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-18 05:25:39.789 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-18 05:25:39.918 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: PXL_20250322_231639392.BURST-01.COVER.jpg, Description Length: 350 words
2025-05-18 05:25:39.943 -04:00 [INF] Successfully converted image data: 3669900 bytes
2025-05-18 05:25:39.953 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-18 05:25:39.954 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-18 05:25:44.779 -04:00 [INF] Image analysis completed in 4823ms, confidence: 0.68537354
2025-05-18 05:25:44.782 -04:00 [INF] Computer Vision analysis completed. Description: 59 characters, Tags: 15
2025-05-18 05:25:44.784 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-18 05:25:44.785 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-18 05:25:49.596 -04:00 [INF] Description enhancement completed in 4808ms, tokens used: 543, model: gpt-35-turbo
2025-05-18 05:25:49.602 -04:00 [INF] Description enhancement completed. Length: 1879 characters, Tokens: 543
2025-05-18 05:25:49.603 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-18 05:25:49.608 -04:00 [INF] Generating image with DALL-E based on description
2025-05-18 05:26:07.776 -04:00 [INF] Image generation completed in 18165ms, estimated tokens: 469, model: dall-e-3
2025-05-18 05:26:07.786 -04:00 [INF] Image generation completed. Size: 3163230 bytes, Tokens: 469
2025-05-18 05:26:07.787 -04:00 [INF] Image analysis completed in 27867ms for user unknown
2025-05-20 03:20:07.374 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-05-20 03:23:04.297 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-05-20 03:23:04.300 -04:00 [INF] OpenAI Service initialized with chat model: gpt-35-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-05-20 03:23:04.342 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: 44-year-old-sokol-failing-to-understand-teen-slang-v0-222jpfp3voye1.png, Description Length: 350 words
2025-05-20 03:23:04.361 -04:00 [INF] Successfully converted image data: 330414 bytes
2025-05-20 03:23:04.362 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-05-20 03:23:04.369 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-05-20 03:23:06.782 -04:00 [INF] Image analysis completed in 2412ms, confidence: 0.8063859
2025-05-20 03:23:06.824 -04:00 [INF] Computer Vision analysis completed. Description: 50 characters, Tags: 13
2025-05-20 03:23:06.825 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-05-20 03:23:06.830 -04:00 [INF] Enhancing description with Azure OpenAI. Target length: 350 words
2025-05-20 03:23:11.256 -04:00 [INF] Description enhancement completed in 4424ms, tokens used: 530, model: gpt-35-turbo
2025-05-20 03:23:11.266 -04:00 [INF] Description enhancement completed. Length: 1875 characters, Tokens: 530
2025-05-20 03:23:11.266 -04:00 [INF] Step 3: Generating image with DALL-E
2025-05-20 03:23:11.271 -04:00 [INF] Generating image with DALL-E based on description
2025-05-20 03:23:38.876 -04:00 [INF] Image generation completed in 27604ms, estimated tokens: 468, model: dall-e-3
2025-05-20 03:23:38.892 -04:00 [INF] Image generation completed. Size: 3163230 bytes, Tokens: 468
2025-05-20 03:23:38.895 -04:00 [INF] Image analysis completed in 34550ms for user unknown
2025-06-20 10:21:25.269 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 10:24:46.803 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 10:25:23.683 -04:00 [INF] Computer Vision Service initialized with endpoint: YOUR_COMPUTER_VISION_ENDPOINT, API version: 2023-10-01
2025-06-20 10:25:23.686 -04:00 [INF] OpenAI Service initialized with chat model: gpt-3.5-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-06-20 10:25:23.690 -04:00 [INF] Executing CheckHealth action.
2025-06-20 10:25:23.691 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-06-20 10:25:54.284 -04:00 [INF] Computer Vision Service initialized with endpoint: YOUR_COMPUTER_VISION_ENDPOINT, API version: 2023-10-01
2025-06-20 10:25:54.286 -04:00 [INF] OpenAI Service initialized with chat model: gpt-3.5-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-06-20 10:25:54.287 -04:00 [INF] Executing CheckHealth action.
2025-06-20 10:25:54.287 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-06-20 10:25:54.424 -04:00 [INF] Computer Vision Service initialized with endpoint: YOUR_COMPUTER_VISION_ENDPOINT, API version: 2023-10-01
2025-06-20 10:25:54.426 -04:00 [INF] OpenAI Service initialized with chat model: gpt-3.5-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-06-20 10:25:54.428 -04:00 [INF] Executing CheckAzureServices action.
2025-06-20 10:25:54.429 -04:00 [INF] Azure services health check requested
2025-06-20 10:25:54.480 -04:00 [INF] Computer Vision Service initialized with endpoint: YOUR_COMPUTER_VISION_ENDPOINT, API version: 2023-10-01
2025-06-20 10:25:54.481 -04:00 [INF] OpenAI Service initialized with chat model: gpt-3.5-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-06-20 10:25:54.490 -04:00 [INF] Checking individual service: Computer Vision
2025-06-20 10:25:54.510 -04:00 [INF] Computer Vision Service initialized with endpoint: YOUR_COMPUTER_VISION_ENDPOINT, API version: 2023-10-01
2025-06-20 10:25:54.511 -04:00 [INF] OpenAI Service initialized with chat model: gpt-3.5-turbo, image model: dall-e-3, fallback model: gpt-35-turbo
2025-06-20 10:25:54.513 -04:00 [INF] Checking individual service: Azure OpenAI
2025-06-20 10:40:33.584 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 13:04:19.434 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 13:04:21.432 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 13:04:21.556 -04:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-06-20 13:04:21.573 -04:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in C:\Users\punko\Downloads\PoRedoImage\Server\Program.cs:line 124
2025-06-20 14:04:44.857 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 14:07:49.598 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:07:49.601 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:07:49.653 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: OLD_MeAndBro2.jpg, Description Length: 350 words
2025-06-20 14:07:49.657 -04:00 [INF] Successfully converted image data: 159610 bytes
2025-06-20 14:07:49.657 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-06-20 14:07:49.659 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-06-20 14:07:51.235 -04:00 [INF] Image analysis completed in 1574ms, confidence: 0.64953554
2025-06-20 14:07:51.287 -04:00 [INF] Computer Vision analysis completed. Description: 36 characters, Tags: 9
2025-06-20 14:07:51.289 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-06-20 14:07:51.662 -04:00 [INF] Enhancing description with OpenAI. Target length: 350 words
2025-06-20 14:08:00.297 -04:00 [INF] Description enhancement completed in 8632ms, tokens used: 516
2025-06-20 14:08:00.328 -04:00 [INF] Description enhancement completed. Length: 1908 characters, Tokens: 516
2025-06-20 14:08:00.330 -04:00 [INF] Step 3: Generating image with DALL-E
2025-06-20 14:08:00.333 -04:00 [INF] Generating image with DALL-E based on description
2025-06-20 14:08:12.781 -04:00 [INF] Image generation completed in 12446ms, estimated tokens: 477, model: dall-e-3
2025-06-20 14:08:12.791 -04:00 [INF] Image generation completed. Size: 3163231 bytes, Tokens: 477
2025-06-20 14:08:12.794 -04:00 [INF] Image analysis completed in 23137ms for user unknown
2025-06-20 14:19:31.390 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 14:19:53.906 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 14:20:07.925 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:20:07.937 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:20:08.106 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: 2020_BaldMatt.jpg, Description Length: 350 words
2025-06-20 14:20:08.127 -04:00 [INF] Successfully converted image data: 1737551 bytes
2025-06-20 14:20:08.131 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-06-20 14:20:08.139 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-06-20 14:20:10.054 -04:00 [INF] Image analysis completed in 1909ms, confidence: 0.91094327
2025-06-20 14:20:10.085 -04:00 [INF] Computer Vision analysis completed. Description: 24 characters, Tags: 12
2025-06-20 14:20:10.088 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-06-20 14:20:10.106 -04:00 [INF] Enhancing description with OpenAI. Target length: 350 words
2025-06-20 14:20:17.973 -04:00 [INF] Description enhancement completed in 7864ms, tokens used: 524
2025-06-20 14:20:18.040 -04:00 [INF] Description enhancement completed. Length: 1990 characters, Tokens: 524
2025-06-20 14:20:18.044 -04:00 [INF] Step 3: Generating image with DALL-E
2025-06-20 14:20:18.049 -04:00 [INF] Generating image with DALL-E based on description
2025-06-20 14:23:13.497 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 14:23:23.953 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:23:23.959 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:23:24.047 -04:00 [INF] Image analysis request received from user anonymous (unknown). File: 2020_BaldMatt.jpg, Description Length: 350 words
2025-06-20 14:23:24.076 -04:00 [INF] Successfully converted image data: 1737551 bytes
2025-06-20 14:23:24.079 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-06-20 14:23:24.084 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-06-20 14:23:25.451 -04:00 [INF] Image analysis completed in 1362ms, confidence: 0.91083246
2025-06-20 14:23:25.503 -04:00 [INF] Computer Vision analysis completed. Description: 24 characters, Tags: 12
2025-06-20 14:23:25.509 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-06-20 14:23:25.880 -04:00 [INF] Enhancing description with OpenAI. Target length: 350 words
2025-06-20 14:23:37.194 -04:00 [INF] Description enhancement completed in 11291ms, tokens used: 502
2025-06-20 14:23:37.235 -04:00 [INF] Description enhancement completed. Length: 1816 characters, Tokens: 502
2025-06-20 14:23:37.241 -04:00 [INF] Step 3: Generating image with DALL-E
2025-06-20 14:23:37.244 -04:00 [INF] Generating image with DALL-E based on description
2025-06-20 14:23:47.700 -04:00 [INF] Image generation completed in 10454ms, estimated tokens: 454, model: dall-e-3
2025-06-20 14:23:47.732 -04:00 [INF] Image generation completed. Size: 3163230 bytes, Tokens: 454
2025-06-20 14:23:47.736 -04:00 [INF] Image analysis completed in 23681ms for user unknown
2025-06-20 14:43:13.442 -04:00 [WRN] Azure AD configuration not found or using placeholder values. Authentication disabled.
2025-06-20 14:43:13.590 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 14:45:10.392 -04:00 [WRN] Failed to determine the https port for redirect.
2025-06-20 14:45:10.458 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:45:10.460 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:45:10.462 -04:00 [INF] Test endpoint called
2025-06-20 14:45:30.447 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:45:30.449 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:45:30.450 -04:00 [INF] Debug endpoint called
2025-06-20 14:54:29.032 -04:00 [WRN] Azure AD configuration not found or using placeholder values. Authentication disabled.
2025-06-20 14:54:29.149 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-06-20 14:55:12.693 -04:00 [WRN] Failed to determine the https port for redirect.
2025-06-20 14:55:16.589 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:16.591 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:16.592 -04:00 [INF] Executing CheckHealth action.
2025-06-20 14:55:16.592 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-06-20 14:55:16.750 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:16.751 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:16.753 -04:00 [INF] Executing CheckAzureServices action.
2025-06-20 14:55:16.754 -04:00 [INF] Azure services health check requested
2025-06-20 14:55:16.834 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:16.836 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:16.847 -04:00 [INF] Checking individual service: Computer Vision
2025-06-20 14:55:16.883 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:16.884 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:16.886 -04:00 [INF] Checking individual service: Azure OpenAI
2025-06-20 14:55:20.730 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:20.731 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:20.731 -04:00 [INF] Executing CheckHealth action.
2025-06-20 14:55:20.732 -04:00 [INF] API health check requested by anonymous, authenticated: false
2025-06-20 14:55:20.750 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:20.751 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:20.751 -04:00 [INF] Executing CheckAzureServices action.
2025-06-20 14:55:20.751 -04:00 [INF] Azure services health check requested
2025-06-20 14:55:20.760 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:20.760 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:20.762 -04:00 [INF] Checking individual service: Computer Vision
2025-06-20 14:55:20.768 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:20.769 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:20.770 -04:00 [INF] Checking individual service: Azure OpenAI
2025-06-20 14:55:36.706 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-06-20 14:55:36.711 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-06-20 14:55:36.756 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: OLD_BattleOfBandsPaper.jpg, Description Length: 350 words
2025-06-20 14:55:36.760 -04:00 [INF] Successfully converted image data: 222057 bytes
2025-06-20 14:55:36.764 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-06-20 14:55:36.767 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-06-20 14:55:37.422 -04:00 [INF] Image analysis completed in 654ms, confidence: 0.73823416
2025-06-20 14:55:37.432 -04:00 [INF] Computer Vision analysis completed. Description: 55 characters, Tags: 4
2025-06-20 14:55:37.432 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-06-20 14:55:37.439 -04:00 [INF] Enhancing description with OpenAI. Target length: 350 words
2025-06-20 14:55:42.034 -04:00 [INF] Description enhancement completed in 4594ms, tokens used: 533
2025-06-20 14:55:42.046 -04:00 [INF] Description enhancement completed. Length: 2005 characters, Tokens: 533
2025-06-20 14:55:42.047 -04:00 [INF] Step 3: Generating image with DALL-E
2025-06-20 14:55:42.055 -04:00 [INF] Generating image with DALL-E based on description
2025-06-20 14:55:53.532 -04:00 [INF] Image generation completed in 11475ms, estimated tokens: 501, model: dall-e-3
2025-06-20 14:55:53.543 -04:00 [INF] Image generation completed. Size: 3163231 bytes, Tokens: 501
2025-06-20 14:55:53.545 -04:00 [INF] Image analysis completed in 16786ms for user anonymous
